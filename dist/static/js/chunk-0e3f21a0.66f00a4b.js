(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e3f21a0"],{"61a9":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-drawer",{staticClass:"drawer",attrs:{title:"订单详情",visible:e.drawer,direction:e.direction,"before-close":e.handleClose,size:"100"},on:{"update:visible":function(t){e.drawer=t}}},[o("div",{staticClass:"demo-drawer__content"},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"订单ID","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off",disabled:!0},model:{value:e.order_edit.contract_id_edit,callback:function(t){e.$set(e.order_edit,"contract_id_edit",t)},expression:"order_edit.contract_id_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商户ID","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off",disabled:!0},model:{value:e.order_edit.shop_id,callback:function(t){e.$set(e.order_edit,"shop_id",t)},expression:"order_edit.shop_id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"店名","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择活动区域",disabled:!0},model:{value:e.order_edit.sign_contract_shop_edit,callback:function(t){e.$set(e.order_edit,"sign_contract_shop_edit",t)},expression:"order_edit.sign_contract_shop_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"下单日期","label-width":e.formLabelWidth}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:!0},model:{value:e.order_edit.order_date_edit,callback:function(t){e.$set(e.order_edit,"order_date_edit",t)},expression:"order_edit.order_date_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"开始日期","label-width":e.formLabelWidth}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:!0},model:{value:e.order_edit.order_start_date_edit,callback:function(t){e.$set(e.order_edit,"order_start_date_edit",t)},expression:"order_edit.order_start_date_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"门店数","label-width":e.formLabelWidth}},[o("el-input-number",{attrs:{min:1,max:10,label:"描述文字",disabled:!0},on:{change:e.handleChange},model:{value:e.order_edit.order_numbers_edit,callback:function(t){e.$set(e.order_edit,"order_numbers_edit",t)},expression:"order_edit.order_numbers_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"合作时长","label-width":e.formLabelWidth}},[o("el-select",{staticClass:"filter-item",attrs:{filterable:"","value-key":"id",placeholder:"请选合作时长",disabled:!0},model:{value:e.order_edit.shop_cooperation_duration_edit,callback:function(t){e.$set(e.order_edit,"shop_cooperation_duration_edit",t)},expression:"order_edit.shop_cooperation_duration_edit"}},e._l(e.cooperation_duration,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e}})})),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"结束日期","label-width":e.formLabelWidth}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:!0},model:{value:e.order_edit.order_end_date_edit,callback:function(t){e.$set(e.order_edit,"order_end_date_edit",t)},expression:"order_edit.order_end_date_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"签约金额","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择活动区域",disabled:!0},model:{value:e.order_edit.order_amount_edit,callback:function(t){e.$set(e.order_edit,"order_amount_edit",t)},expression:"order_edit.order_amount_edit"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"提成","label-width":e.formLabelWidth}},[o("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off",disabled:!0},model:{value:e.order_edit.order_commission,callback:function(t){e.$set(e.order_edit,"order_commission",t)},expression:"order_edit.order_commission"}})],1),e._v(" "),o("el-divider"),e._v(" "),e._l(e.shop_add_form,(function(t,r){return o("el-form-item",{key:t.key,staticStyle:{width:"80%"},attrs:{label:t.label,"label-width":e.formLabelWidth}},["文本类型"===t.type?o("span",[o("el-input",{attrs:{disabled:!0},on:{blur:function(o){return e.edit_shop_add_form(r,t.value)}},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"domain.value"}})],1):e._e(),e._v(" "),"日期类型"===t.type?o("span",[o("el-date-picker",{attrs:{type:"date",disabled:!0,placeholder:"选择日期"},on:{change:function(o){return e.edit_shop_add_form(r,t.value)}},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"domain.value"}})],1):e._e(),e._v(" "),"选择下拉框"===t.type?o("span",[o("el-select",{attrs:{type:"date",disabled:!0,placeholder:"选择内容"},on:{change:function(o){return e.edit_shop_add_form(r,t.value)}},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"domain.value"}},e._l(t.select,(function(e){return o("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),"大文本框"===t.type?o("span",[o("el-input",{attrs:{type:"textarea",disabled:!0},on:{blur:function(o){return e.edit_shop_add_form(r,t.value)}},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"domain.value"}})],1):e._e()])})),e._v(" "),o("el-divider",[e._v("备注")]),e._v(" "),o("el-form-item",{attrs:{label:"备注","label-width":e.formLabelWidth}},[o("el-input",{attrs:{type:"textarea",placeholder:"备注信息"},model:{value:e.order_edit.shop_remark_edit,callback:function(t){e.$set(e.order_edit,"shop_remark_edit",t)},expression:"order_edit.shop_remark_edit"}}),e._v(" "),e._l(e.shop_edits,(function(t,r){return o("div",[o("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"备注信息",disabled:!0},model:{value:e.shop_edits[r]["label"],callback:function(t){e.$set(e.shop_edits[r],"label",t)},expression:"shop_edits[index]['label']"}})],1)}))],2)],2)],1)]),e._v(" "),o("div",{staticClass:"filter-container",staticStyle:{"margin-left":"15px","margin-top":"25px"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"查询"},on:{input:e.select_input},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[o("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),o("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},on:{change:e.select_month},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%","margin-left":"15px","margin-right":"30px"},attrs:{data:e.tableData,border:"",fit:"",stripe:"","highlight-current-row":""},on:{"sort-change":e.sortChange,"row-click":e.data_update}},[o("el-table-column",{attrs:{prop:"contract_id","show-overflow-tooltip":"",label:"ID"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}}}),e._v(" "),o("el-table-column",{attrs:{prop:"sign_contract_shop","show-overflow-tooltip":"",label:"签约商户",width:"450"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["断约"===r.tags?o("div",[o("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"hover"},on:{show:function(t){return e.get_shop_edit(r.shop_id)}}},[e._l(e.shop_edits,(function(t,r){return o("div",[o("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"备注信息",disabled:!0},model:{value:e.shop_edits[r]["label"],callback:function(t){e.$set(e.shop_edits[r],"label",t)},expression:"shop_edits[index]['label']"}})],1)})),e._v(" "),o("span",{staticClass:"link-type",staticStyle:{color:"#606266"},attrs:{slot:"reference"},on:{click:function(t){e.data_update(r),e.drawer=!0}},slot:"reference"},[e._v(e._s(r.sign_contract_shop))])],2),e._v(" "),o("el-tag",{attrs:{type:"warning",effect:"dark"}},[e._v(e._s(r.tags))])],1):"续约"===r.tags?o("div",[o("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"hover"},on:{show:function(t){return e.get_shop_edit(r.shop_id)}}},[e._l(e.shop_edits,(function(t,r){return o("div",[o("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"备注信息",disabled:!0},model:{value:e.shop_edits[r]["label"],callback:function(t){e.$set(e.shop_edits[r],"label",t)},expression:"shop_edits[index]['label']"}})],1)})),e._v(" "),o("span",{staticClass:"link-type",staticStyle:{color:"#606266"},attrs:{slot:"reference"},on:{click:function(t){e.data_update(r),e.drawer=!0}},slot:"reference"},[e._v(e._s(r.sign_contract_shop))])],2),e._v(" "),o("el-tag",{attrs:{effect:"dark"}},[e._v(e._s(r.tags))])],1):"新签"===r.tags?o("div",[o("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"hover"},on:{show:function(t){return e.get_shop_edit(r.shop_id)}}},[e._l(e.shop_edits,(function(t,r){return o("div",[o("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"备注信息",disabled:!0},model:{value:e.shop_edits[r]["label"],callback:function(t){e.$set(e.shop_edits[r],"label",t)},expression:"shop_edits[index]['label']"}})],1)})),e._v(" "),o("span",{staticClass:"link-type",staticStyle:{color:"#606266"},attrs:{slot:"reference"},on:{click:function(t){e.data_update(r),e.drawer=!0}},slot:"reference"},[e._v(e._s(r.sign_contract_shop))])],2),e._v(" "),o("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v(e._s(r.tags))])],1):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"order_date","show-overflow-tooltip":"",label:"下单日期"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}}}),e._v(" "),o("el-table-column",{attrs:{prop:"order_start_date",sortable:"custom","show-overflow-tooltip":"",label:"开始时间"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}}}),e._v(" "),o("el-table-column",{attrs:{prop:"shop_cooperation_duration","show-overflow-tooltip":"",label:"合作时长"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}}}),e._v(" "),o("el-table-column",{attrs:{prop:"order_end_date","show-overflow-tooltip":"",label:"结束日期"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}}}),e._v(" "),o("el-table-column",{attrs:{prop:"order_amount","show-overflow-tooltip":"",label:"收款金额"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}}}),e._v(" "),o("el-table-column",{attrs:{prop:"remaining_number_of_days","show-overflow-tooltip":"",label:"剩余天数"},on:{click:function(t){e.data_update(e.row),e.drawer=!0}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["已到期"===r.zhuangtai?o("div",[o("span",{staticClass:"link-type",staticStyle:{color:"#008000"},on:{click:function(t){e.data_update(r),e.drawer=!0}}},[e._v(e._s(r.remaining_number_of_days))])]):o("div",[o("span",{staticClass:"link-type",staticStyle:{color:"#FF0000"},on:{click:function(t){e.data_update(r),e.drawer=!0}}},[e._v(e._s(r.remaining_number_of_days))])])]}}])})],1),e._v(" "),o("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[o("el-pagination",{staticStyle:{"margin-bottom":"15px"},attrs:{"current-page":e.currentPage,background:"",layout:"prev, pager,jumper, next, sizes, total","page-sizes":[10,20,50,100],total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],i=(o("b775"),o("0f9a")),d={data:function(){return{tableData:[],user_data:[],shop_add_form:[],shop_edits:[],total:0,pagesize:10,currentPage:1,title:"",month:"",drawer:!1,formLabelWidth:"80px",order_by:0,order_edit:{contract_id_edit:void 0,order_date_edit:void 0,order_start_date_edit:void 0,sign_contract_shop_edit:void 0,customer_source_edit:void 0,contract_status_edit:void 0,shop_industry_edit:void 0,shop_kp_name_edit:void 0,shop_telephonenumber_edit:void 0,order_numbers_edit:void 0,shop_cooperation_duration_edit:void 0,shop_kp_wechat_id_edit:void 0,order_end_date_edit:void 0,order_amount_edit:void 0,payment_method_edit:void 0,order_contract_sales_edit:void 0,shop_remark_edit:void 0,shop_id:void 0,order_form_edit:void 0,order_commission:void 0}}},created:function(){this.addUser(this.pagesize,this.currentPage,i["default"].state["first_name"]),this.user_data_xiaoshou()},mounted:function(){this.addUser()},methods:{handleClose:function(e){this.drawer=!1,this.edit_shop(this.order_edit.contract_id_edit,this.order_edit.customer_source_edit,this.order_edit.contract_status_edit,this.order_edit.contracted_projects_edit,this.order_edit.shop_industry_edit,this.order_edit.shop_kp_name_edit,this.order_edit.shop_telephonenumber_edit,this.order_edit.order_numbers_edit,this.order_edit.payment_method_edit,this.order_edit.shop_id,this.order_edit.shop_remark_edit)},addUser:function(e,t,o){var r=this;this.axios.get("http://152.32.135.62/app/table_simple_order_data/",{params:{pagesize:e,currentPage:t,username:i["default"].state["first_name"],order_by:this.order_by,title:this.title,month:this.month}}).then((function(e){r.tableData=e.data.data,r.total=e.data.total,r.loading=!1})).catch((function(e){this.loading=!1,console.log(e)}))},get_shop_edit:function(e){var t=this;this.axios.get("http://152.32.135.62/app/table_simple_get_edit/",{params:{shop_id:e,leixing:"公海"}}).then((function(e){t.shop_edits=e.data.data})).catch((function(e){this.loading=!1,console.log(e)}))},edit_shop:function(e,t,o,r,a,d,s,l,n,_,c){var p=this;this.axios.get("http://152.32.135.62/app/order_select/",{params:{contract_id:e,customer_source:t,contract_status:o,contracted_projects:r,shop_industry:a,shop_kp_name:d,shop_telephonenumber:s,order_numbers:l,shop_id:_,payment_method:n,shop_remark:c,user_name:i["default"].state["first_name"]}}).then((function(e){p.$notify({title:"操作成功",message:"",type:"success"}),p.addUser(p.pagesize,p.currentPage,i["default"].state["first_name"])})).catch((function(e){this.loading=!1,console.log(e)}))},data_update:function(e){this.drawer=!0,this.order_edit.contract_id_edit=e.contract_id,this.order_edit.order_date_edit=e.order_date,this.order_edit.order_start_date_edit=e.order_start_date,this.order_edit.sign_contract_shop_edit=e.sign_contract_shop,this.order_edit.customer_source_edit=e.customer_source,this.order_edit.contract_status_edit=e.contract_status,this.order_edit.contracted_projects_edit=e.contracted_projects,this.order_edit.shop_industry_edit=e.shop_industry,this.order_edit.shop_kp_name_edit=e.shop_kp_name,this.order_edit.shop_telephonenumber_edit=e.shop_telephonenumber,this.order_edit.order_numbers_edit=e.order_numbers,this.order_edit.shop_cooperation_duration_edit=e.shop_cooperation_duration,this.order_edit.shop_kp_wechat_id_edit=e.shop_kp_wechat_id,this.get_shop_edit(e.shop_id),this.order_edit.order_end_date_edit=e.order_end_date,this.order_edit.order_amount_edit=e.order_amount,this.order_edit.payment_method_edit=e.payment_method,this.order_edit.order_contract_sales_edit=e.order_contract,this.order_edit.shop_remark_edit=e.shop_remark,this.order_edit.order_form_edit=e.order_form,this.order_edit.shop_id=e.shop_id,this.order_edit.order_commission=e.order_commission,this.shop_add_form=e.order_form},edit_shop_add_form:function(e,t){this.axios.get("http://152.32.135.62/app/edit_order_form_data/",{params:{shop_id:this.order_edit.sign_contract_shop_edit,index:e,value:t}}).then((function(e){})).catch((function(e){this.loading=!1,console.log(e)}))},select_input:function(){this.addUser(this.pagesize,this.currentPage,i["default"].state["first_name"])},select_month:function(){this.addUser(this.pagesize,this.currentPage,i["default"].state["first_name"])},user_data_xiaoshou:function(){var e=this;this.axios.get("http://152.32.135.62/app/get_user_data/",{}).then((function(t){e.user_data=t.data.data})).catch((function(e){this.loading=!1,console.log(e)}))},sortChange:function(e,t,o){this.order_by=e.order,this.addUser(this.pagesize,this.currentPage,i["default"].state["first_name"])},handleSizeChange:function(e){this.pagesize=e,this.addUser(e,this.currentPage,i["default"].state["first_name"]),this.qryTableDate()},handleCurrentChange:function(e){console.log("第几页",e),this.currentPage=e,this.addUser(this.pagesize,e,i["default"].state["first_name"]),this.qryTableDate()}}},s=d,l=(o("9a40"),o("2877")),n=Object(l["a"])(s,r,a,!1,null,null,null);t["default"]=n.exports},"9a40":function(e,t,o){"use strict";var r=o("a1f4"),a=o.n(r);a.a},a1f4:function(e,t,o){}}]);